<!DOCTYPE html>
<html>
<head>
    <meta name="robots" content="noindex, nofollow">
    <title>My File Archive</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        .file-container {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .json-chat {
            margin-bottom: 15px;
        }
        .user {
            color: #0066cc;
            font-weight: bold;
        }
        .assistant {
            color: #009933;
        }
        .error {
            color: #cc0000;
            padding: 15px;
            border: 1px solid #ffcccc;
            background-color: #ffeeee;
        }
        .loading {
            color: #666;
            font-style: italic;
        }
        pre {
            white-space: pre-wrap;
            background: #f0f0f0;
            padding: 10px;
            border-radius: 3px;
        }
        .file-separator {
            border: 0;
            height: 1px;
            background: #ccc;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>My File Archive</h1>
    <div id="files">
        <p class="loading">Loading files...</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // CONFIGURATION - EDIT THESE VALUES
            const config = {
                repo: 'kendiglisa/adfasdfasfs',  // Format: username/repository
                branch: 'main',                   // Branch name (main, master, gh-pages, etc.)
                files: [                          // List of files to load
                    'waarchive.json',
                    'ChatGPT_First_Hinglish.json'
                    // Add more files as needed
                ]
            };
            
            const container = document.getElementById('files');
            loadFiles(config.repo, config.branch, config.files);
            
            function loadFiles(repo, branch, files) {
                container.innerHTML = '<p class="loading">Loading files...</p>';
                
                Promise.all(files.map(file => {
                    const fileUrl = `https://raw.githubusercontent.com/${repo}/${branch}/${file}`;
                    return fetch(fileUrl)
                        .then(response => {
                            if (!response.ok) throw new Error(`Failed to load ${file}: ${response.status}`);
                            return response.text().then(text => {
                                return { file, content: text, isJson: file.endsWith('.json') };
                            });
                        })
                        .catch(error => {
                            return { file, error: error.message };
                        });
                }))
                .then(results => {
                    container.innerHTML = '';
                    
                    results.forEach((result, index) => {
                        const fileDiv = document.createElement('div');
                        fileDiv.className = 'file-container';
                        
                        const title = document.createElement('h3');
                        title.textContent = result.file;
                        fileDiv.appendChild(title);
                        
                        if (result.error) {
                            const errorDiv = document.createElement('div');
                            errorDiv.className = 'error';
                            errorDiv.textContent = `Error: ${result.error}`;
                            fileDiv.appendChild(errorDiv);
                        } else if (result.isJson) {
                            try {
                                const jsonData = JSON.parse(result.content);
                                if (jsonData.conversations) {
                                    jsonData.conversations.forEach(conversation => {
                                        const convDiv = document.createElement('div');
                                        convDiv.className = 'json-chat';
                                        
                                        if (conversation.topic || conversation.date) {
                                            const convTitle = document.createElement('h4');
                                            convTitle.textContent = `${conversation.topic || 'Conversation'} â€¢ ${conversation.date || 'No date'}`;
                                            convDiv.appendChild(convTitle);
                                        }
                                        
                                        if (conversation.messages) {
                                            conversation.messages.forEach(message => {
                                                const msgDiv = document.createElement('div');
                                                msgDiv.className = message.role;
                                                msgDiv.innerHTML = `<strong>${message.role}:</strong> ${message.content}`;
                                                convDiv.appendChild(msgDiv);
                                            });
                                        }
                                        
                                        fileDiv.appendChild(convDiv);
                                    });
                                } else {
                                    const pre = document.createElement('pre');
                                    pre.textContent = JSON.stringify(jsonData, null, 2);
                                    fileDiv.appendChild(pre);
                                }
                            } catch (e) {
                                const errorDiv = document.createElement('div');
                                errorDiv.className = 'error';
                                errorDiv.textContent = `Failed to parse JSON: ${e.message}`;
                                fileDiv.appendChild(errorDiv);
                                
                                const pre = document.createElement('pre');
                                pre.textContent = result.content;
                                fileDiv.appendChild(pre);
                            }
                        } else {
                            // Plain text file
                            const pre = document.createElement('pre');
                            pre.textContent = result.content;
                            fileDiv.appendChild(pre);
                        }
                        
                        container.appendChild(fileDiv);
                        
                        // Add horizontal separator after each file except the last one
                        if (index < results.length - 1) {
                            const separator = document.createElement('hr');
                            separator.className = 'file-separator';
                            container.appendChild(separator);
                        }
                    });
                })
                .catch(error => {
                    showError('Failed to load files', error.message);
                });
            }
            
            function showError(message, details = '') {
                container.innerHTML = `
                    <div class="error">
                        <p><strong>Error:</strong> ${message}</p>
                        ${details ? `<p>${details}</p>` : ''}
                        <p>Verify that:</p>
                        <ul>
                            <li>Your repository is public</li>
                            <li>Files exist in the specified branch</li>
                            <li>File names are correct</li>
                        </ul>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
